## backbone-training-app

![Alt text](/docs/main.png)


### Установка

##### Установка зависимостей для сервера:
```
npm i
```

##### Установка зависимостей для клиента и инициализация рабочей директори:
```
gulp
```

### Запуск

```
node app.js
```

В браузере 

```
http://:localhost:3000/
```

Данные о хосте, порте и др. хранятся в конфигурационном файле

#### Реализация

##### Серверная часть

###### Используемые технологии

* NodeJS
* Express
* MongoDB

При запуске, сервер подключается к БД, заполняет ее тестовыми данными и начинает свою работу.

Сервер имеет один "роут" для выдачи статики и несколько для доступа к API.

Сервер поддерживает сессии, поэтому каждый авторизированный пользователь на клиенте индентифицируется на сервере.


###### БД

При инициализации сервера, в запущенную MongoDB добавляются тестовые данные - БД и две коллекции с докементами.

Для тестов есть два пользователя: обычный и администратор.

####### Обычный пользователь

* **Login** - user@gmail.com
* **Password** - 123qwe

####### Обычный пользователь

* **Login** - user_root@gmail.com
* **Password** - 123qwe

Перед добавление пользовательского пароля в БД он шифруется.


##### Клиентская часть

###### Используемые технологии

* Backbone
* jQuery
* Materialize

###### Описание

Для работы необходимо авторизоваться. После подтверждения введенных данных, отправляется POST-запрос на сервер. Если пользователь уже существует, то ему предоставляется доступ к содержимому сайта, в противном случае новые данные заносятся в БД и так же предоставляется доступ.

![Alt text](/docs/auth.png)

Данные авторизации проходят валидацию перед отправкой на сервер.

Пользователь получает уведомления и от клиента,и от сервера в случае ошибки.

![Alt text](/docs/error.png)

Авторизированному пользователю доступна страница с контентом. Содержимое этих элементов (название поста, описание поста и количество "лайков") храняться на сервере в БД.

![Alt text](/docs/posts.png)

Пользователь может поставить и убрать "лайк" под каждым блоком. Каждое это действие обрабатывается на сервере и изменяются документы в БД.

Администратор может удалить любой блок. Обычные пользователи лишены такой возможности.

![Alt text](/docs/post.png) ![Alt text](/docs/post-root.png)

На клиенте, информация о том, что пользователь авторизован хранится в localStorage.